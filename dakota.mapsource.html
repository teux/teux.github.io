<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="ru-ru" lang="ru-ru">

  <head><meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
    
    <title>Векторная карта “Дороги России. ТОПО”</title>
    <meta name="keywords" content="Андрей Коперский, фотоальбом, ">
    <link type="text/css" rel="stylesheet" href="stylesheets/screen_styles.css">
    <link type="text/css" media="screen" rel="stylesheet" href="stylesheets/colorbox.css">
    <script type="text/javascript" src="scripts/jquery.min.js"></script>
    <script type="text/javascript" src="scripts/jquery.colorbox.js"></script>
    <script type="text/javascript" src="scripts/main.js"></script>
    <script type="text/javascript" src="scripts/menu.js"></script>
    <script type="text/javascript" src="arrays/menuent.js"></script>
    <script type="text/javascript" src="scripts/ltoc.js"></script>
    <script type="text/javascript">
			  $(document).ready(function(){
				  $("a[rel='cbgroup']").colorbox({transition:"elastic", speed:"700", current:"фото {current} из {total}", width:"70%"});
				  $("a[rel='slideshow']").colorbox({slideshow:"true", slideshowAuto:"true", slideshowSpeed:"4000", slideshowStart:"Начать показ", slideshowStop:"Остановить показ", current:"фото {current} из {total}", width:"70%"});
			  });
		  </script>
    <script type="text/javascript" src="arrays/ltocent8.js"></script>
    <script type="text/JavaScript">window.pageid = "dakota.mapsource.html";</script>
    <link rel="Shortcut Icon" type="image/ico" href="images/favicon.ico">
  </head>



  <body onload="if (navigator.appName.indexOf('Microsoft')!=-1) window.jstree.OpenTreeNode(window.pageid);" id="id105VII0G05Z">
    <div id="container">
      <div id="branding">
        <h1>
          <a href="http://www.teux.ru">Андрей Коперский — фотографии походов</a>
          <script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4829635 = new Ya.Metrika({id:4829635}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script>
        </h1>
        <p>Фотографии походов, приглашаю в поход</p>
      </div>
      <div id="navigation_main">
        <ul>
          <li class="first">
            <a href="index.html">Походы</a>
          </li>
          <li>
            <a href="river.html" onmouseover="dropdownmenu(this, event, menu2ent , '')" onmouseout="delayhidemenu()">Водные</a>
          </li>
          <li>
            <a href="kola.html" onmouseover="dropdownmenu(this, event, menu3ent , '')" onmouseout="delayhidemenu()">Кольский п-ов</a>
          </li>
          <li>
            <a href="afoot.html" onmouseover="dropdownmenu(this, event, menu4ent , '')" onmouseout="delayhidemenu()">Пешие</a>
          </li>
          <li>
            <a href="skiing.html" onmouseover="dropdownmenu(this, event, menu5ent , '')" onmouseout="delayhidemenu()">Лыжные</a>
          </li>
          <li>
            <a href="auto.html" onmouseover="dropdownmenu(this, event, menu6ent , '')" onmouseout="delayhidemenu()">Автомобильные</a>
          </li>
          <li>
            <a href="camping.html" onmouseover="dropdownmenu(this, event, menu7ent , '')" onmouseout="delayhidemenu()">Прочие</a>
          </li>
          <li class="current">
            <a href="usefull.html" onmouseover="dropdownmenu(this, event, menu8ent , '')" onmouseout="delayhidemenu()">Полезности</a>
          </li>
        </ul>
      </div>
      <div id="tools">
        <h3>Page Tools</h3>
        <ul id="page_tools">
          <li id="search">
            <form method="get" action="http://www.google.com/search" target="_blank">
              <input onfocus="this.className='txt-very-dark-gray'; this.value=''" class="txt-light-gray" id="search_text" type="text" name="q" size="30" maxlength="255" value="Поиск по сайту через Google">
              <input type="hidden" name="sitesearch" value="teux.ru">
              <input id="search_button" type="submit" value="&gt;">
            </form>
          </li>
        </ul>
      </div>
      <div id="dashboard">
        <div id="navigation_secondary">
          <p class="title">Разделы:</p>
          <div id="ltoc">
            <script type="text/JavaScript">window.jstree = new MakeTree(window.TITEMS, false);</script>
          </div>
        </div>
        <script type="text/javascript" src="arrays/lastpub.js"></script>
        <script type="text/javascript" src="arrays/dashboard.js"></script>
      </div>
      <div id="content_main" class="with-info">
        <div id="breadcrumbs">
          <p><span>Расположение: </span><a href="usefull.html">Полезности</a> &gt; <a href="dakota.html">Garmin Dakota 20</a> &gt; <strong>Векторная карта “Дороги России. ТОПО”</strong>
          </p>
        </div>
        <h1 class="title topictitle1">Векторная карта “Дороги России. ТОПО”</h1>
        <div class="body photoBody">
          <p class="shortdesc">Обновление векторной карты “Дороги России. ТОПО” и просмотр
карты в программе MapSource</p>
          <p class="p">В комплекте с Dakota 20 поставляется карточка microSD
с установленной векторной картой “Дороги России. ТОПО” производства
Навиком. Карта подходит для прокладки автомобильных маршрутов по
нашей необъятной, то есть позволяет использовать Dakota в качестве
автонавигатора (хотя по удобству использования Dakota не заменит
специализированные автонавигаторы).</p>
          <p class="p">Векторная карта содержит большой объем топонагрузки, к которой
относятся водные объекты, туристические и охотничьи базы, просеки,
лэп, рельеф местности, глубины и многое другое. Уровень детализации
достаточен для ориентирования по навигатору в незнакомой местности.
Однако, этим применение векторной карты не исчерпывается. Ничего
не мешает экспортировать ее в популярную программу MapSource и просматривать
на компьютере, а также пользоваться возможностью MapSource отмечать
путевые точки и записывать их в навигатор.</p>
          <div class="section storySection">
            <h2 class="title sectiontitle">Обновление векторной карты</h2>
            <p class="p">При покупке в моем навигаторе была установлена векторная карта
версии 6.04. Компания Garmin предлагает обновление карты через свой
сайт. В каждой новой версии добавляются топографические объекты
и исправляются неточности. Этот процесс идет непрерывно, и за последний
месяц вышли уже две новые версии. На момент написания статьи последней была
версия 6.06, обновление до которой ничего не стоило.</p>
            <p class="p">Чтобы обновить векторную карту, я зашел на русский сайт Garmin
в раздел, посвященный <a class="xref" href="http://www.garmin.ru/maps/map_1281.php" target="_blank">картам</a>. Там увидел ссылку на программу
MapChecker. Ее нужно скачать и сразу запустить. Программа очень
маленькая и не требует инсталляции. Не стоит записывать ее на жесткий
диск. Лучше проверять обновления карт, каждый раз скачивая MapChecker
с сайта.</p>
            <p class="p">При подключенном навигаторе программа предложит выбрать съемный
носитель данных, на котором установлена предыдущая версия карты.
Когда Dakota 20 подключен к компьютеру, в операционной системе автоматически
регистрируются два съемных носителя: первый с именем <samp class="ph codeph">GARMIN</samp> соответствует внутренней
памяти навигатора, второй с именем <samp class="ph codeph">NULL</samp> соответствует
карточке microSD.</p>
            <div class="note"><img src="images/note.gif"> Имя microSD можно изменить через проводник Windows, как это делается
для любой флэшки: щелчок правой кнопкой мыши по значку съемного
носителя &gt; Пункт контекстного меню <span class="ph uicontrol">Свойства</span>.
В верхнем поле задается имя карточки.</div>
            <p class="p">В MapChecker нужно выбрать карту microSD и нажать <span class="ph uicontrol">Далее</span>, как
показано на следующем рисунке.</p>
            <div class="fig fignone">
              <br>
              <div class="imageleft">
                <img class="image imageleft" src="Insets/dakota/img01.gif" height="375" width="539">
              </div>
              <br>
            </div>
            <p class="p">Программа проверит версию векторной карты и, если доступна более
новая версия, выдаст ссылку для скачивания инсталлятора, как показано
на следующем рисунке.</p>
            <div class="fig fignone">
              <br>
              <div class="imageleft">
                <img class="image imageleft" src="Insets/dakota/img02.gif" height="375" width="539">
              </div>
              <br>
            </div>
            <p class="p">Щелкните по нижней ссылке, чтобы начать скачивание инсталлятора.
Он имеет размер больше гигабайта, а скачивание идет достаточно медленно.
Поэтому наберитесь терпения.</p>
            <p class="p">После скачивания остается запустить инсталлятор и следовать его
инструкциям. Обновление карты продолжается от получаса и дольше,
поскольку на microSD записывается большой файл с топографическими
данными.</p></div>
          <div class="section storySection">
            <h2 class="title sectiontitle">Установка программ для экспорта в MapSource</h2>
            <p class="p">Прежде всего нужно иметь саму программу MapSource. Мне не понятна
позиция Garmin по поводу ее продажи. MapSource входит в состав различных
пакетов карт, приобретаемых на DVD, однако как купить программу
отдельно от карт, я не понял. С другой стороны, на сайте Garmin
свободно предлагаются обновления этой программы. Причем обновления
являются полноценными инсталляторами. Но вот выполнить инсталляцию
можно, только если у вас установлена любая версия MapSource, хотя
бы самая ранняя.</p>
            <p class="p">Предположим, MapSource установлен. Понадобятся еще две бесплатные
программы: GMapTool и cGPSmapper. Программа GMapTool переводит векторную
карту “Дороги России. ТОПО” в формат, понятный для MapSource. Этот
процесс называется разборкой, поскольку единый файл векторной карты
разбивается на отдельные файлы с топографическими данными регионов
России. Программа cGPSmapper автоматически запускается во время
работы GMapTool для создания обзорной карты.</p>
            <div class="note"><img src="images/note.gif"> Разборка векторной карты, а другими словами ее декомпиляция, является
нарушением лицензионного соглашения с компанией Навиком. Лучше не
нарушать лицензионное соглашение. Но если вы хотите только проверить
программу GMapTool и сразу удалите результат ее работы, тогда читайте
дальше.</div>
            <p class="p">GMapTool можно скачать со страницы <a class="xref" href="http://www.anpo.republika.pl" target="_blank">www.anpo.republika.pl</a>. Усеченную,
но бесплатную версию cGPSmapper можно скачать со страницы <a class="xref" href="http://www.cgpsmapper.com/buy.htm" target="_blank">www.cgpsmapper.com/buy.htm</a> (имеется
также коммерческая версия, но ее функции нам не нужны). Установка обеих
программ интуитивно понятна.</p></div>
          <div class="section storySection">
            <h2 class="title sectiontitle">Экспорт векторной карты в MapSource</h2>
            <p class="p">Ниже приведена инструкция по экспорту векторной карты “Дороги
России. ТОПО” в MapSource.</p>
            <ol class="ol">
              <li class="li">
                <p class="p">Подключите Dakota 20 к компьютеру и скопируйте файл <samp class="ph codeph">gmapsupp.img</samp> с
microSD (каталог <samp class="ph codeph">GARMIN</samp>) на компьютер во временный
каталог. Допустим, это будет каталог <samp class="ph codeph">C:\Temp</samp>.</p>
                <div class="note"><img src="images/note.gif"> Будьте
осторожны, не удалите исходные файлы с расширением <samp class="ph codeph">img</samp> и <samp class="ph codeph">unl</samp> на
microSD.</div></li>
              <li class="li">
                <p class="p">Создайте на жестком диске целевой каталог для векторной карты после
преобразования в формат MapSource. Предположим, это будет каталог <samp class="ph codeph">C:\Garmin\maps\rusTopo</samp>.</p></li>
              <li class="li">
                <p class="p">Запустите программу GMapTool и перейдите на вкладку <span class="ph uicontrol">Options</span>. </p>
                <p class="p">Отображается
следующий диалог.</p>
                <div class="fig fignone">
                  <br>
                  <div class="imageleft">
                    <img class="image imageleft" src="Insets/dakota/img03.gif" height="409" width="636">
                  </div>
                  <br>
                </div></li>
              <li class="li">
                <p class="p">Задайте конфигурационные параметры.</p>
                <ul class="ul">
                  <li class="li">
                    <p class="p">В списке <span class="ph uicontrol">Language</span> выберите
язык “Русский”. Интерфейс станет привлекательнее.</p></li>
                  <li class="li">
                    <p class="p">В нижней части диалога укажите путь к исполняемому файлу программы
cGPSmapper.</p></li></ul></li>
              <li class="li">
                <p class="p">Перейдите на вкладку <span class="ph uicontrol">Файл</span>.</p>
                <p class="p">Отображается
следующий диалог.</p>
                <div class="fig fignone">
                  <br>
                  <div class="imageleft">
                    <img class="image imageleft" src="Insets/dakota/img04.gif" height="204" width="643">
                  </div>
                  <br>
                </div></li>
              <li class="li">
                <p class="p">Нажмите <span class="ph uicontrol">Добавить файлы</span> и укажите файл <samp class="ph codeph">C:\Temp\gmapsupp.img</samp>.</p>
                <p class="p">Файл
будет добавлен в список.</p>
                <div class="fig fignone">
                  <br>
                  <div class="imageleft">
                    <img class="image imageleft" src="Insets/dakota/img05.gif" height="214" width="643">
                  </div>
                  <br>
                </div></li>
              <li class="li">
                <p class="p">Перейдите на вкладку <span class="ph uicontrol">Разобрать</span>.</p>
                <p class="p">Отображается
следующий диалог.</p>
                <div class="fig fignone">
                  <br>
                  <div class="imageleft">
                    <img class="image imageleft" src="Insets/dakota/img06.gif" height="306" width="636">
                  </div>
                  <br>
                </div></li>
              <li class="li">
                <p class="p">Настройте параметры экспорта карты.</p>
                <ul class="ul">
                  <li class="li">
                    <p class="p">Нажмите <span class="ph uicontrol">Выходная
папка</span> и выберите каталог для вывода преобразованной
карты (в нашем примере — <samp class="ph codeph">C:\Garmin\maps\rusTopo</samp>).</p></li>
                  <li class="li">
                    <p class="p">В списке <span class="ph uicontrol">Создать из (*.img)</span> выберите
значение “набор для Mapsource”.</p></li></ul></li>
              <li class="li">
                <p class="p">Нажмите <span class="ph uicontrol">Разобрать всё</span>.</p>
                <p class="p">Начнется
экспорт карты. При этом программа перейдет на вкладку <span class="ph uicontrol">Протокол</span> и
будет отображать ход экспорта. Ниже показан фрагмент протокола.</p></li></ol>
            <pre class="pre codeblock">
Разборка всех карт.
Input file: C:/Temp/gmapsupp.img.
Reading file C:/Temp/gmapsupp.img.
Split map C:/Temp/gmapsupp.img.
Write map  00001790 -&gt;     1790_mdr.img, file   8962048, header   2000h, block 8192
...
Write unl  gmaptool00.unl, codes 1
Write file mapset.mp
Write file mapset.tdb
Write file mapset.mdx
...
Maps uploaded!
C:/Garmin/maps/rusTopo/mapset.img is created.
Done!
File :C:/Garmin/maps/rusTopo/mapset.img is ready to use
Execution time: 0.82 s
</pre>
            <p class="p">Об успешном завершении экспорта говорят последние строки, в частности</p>
            <pre class="pre codeblock">
File :C:/Garmin/maps/rusTopo/mapset.img is ready to use.
</pre>
            <p class="p">Также обратите внимание на строку</p>
            <pre class="pre codeblock">
Write unl  gmaptool00.unl, codes 1
</pre>
            <p class="p">в которой сообщается о созданном файле <samp class="ph codeph">gmaptool00.unl</samp>. Его
содержимое понадобится на следующем этапе для активации карты.</p></div>
          <div class="section storySection">
            <h2 class="title sectiontitle">Активация векторной карты</h2>
            <p class="p">На предыдущем этапе мы с помощью GMapTool преобразовали векторную
карту в формат MapSource. Карта в виде набора разных файлов была
записана в каталог <samp class="ph codeph">C:/Garmin/maps/rusTopo</samp>. Для
работы с картой этого недостаточно. Требуется еще указать программе
MapSource на наличие новой карты и разблокировать ее.</p>
            <p class="p">Во время экспорта был автоматически создан командный файл <samp class="ph codeph">C:/Garmin/maps/rusTopo/install.bat</samp>.
Чтобы подключить карту к MapSource, достаточно запустить этот файл и
два раза нажать <samp class="ph codeph">Enter</samp>. Удобно, не правда ли?</p>
            <p class="p">Затем запустите MapSource, и вот он сюрприз. Программа сообщает,
что новая карта заблокирована.</p>
            <div class="fig fignone">
              <br>
              <div class="imagecenter">
                <img class="image imagecenter" src="Insets/dakota/img07.gif" height="240" width="351">
              </div>
              <br>
            </div>
            <p class="p">Еще несколько шагов.</p>
            <ol class="ol">
              <li class="li">
                <p class="p">Нажмите <span class="ph uicontrol">Разблокировать карты</span>.</p>
                <p class="p">Отображается
менеджер картографических продуктов, в котором наша карта имеет
состояние “Заблокировано”.</p>
                <div class="fig fignone">
                  <br>
                  <div class="imageleft">
                    <img class="image imageleft" src="Insets/dakota/img08.gif" height="211" width="669">
                  </div>
                  <br>
                </div></li>
              <li class="li">
                <p class="p">Перейдите на вкладку <span class="ph uicontrol">Регионы для разблокировки</span> и
нажмите <span class="ph uicontrol">Добавить</span>.</p>
                <p class="p">Отображается диалог
ввода кода разблокировки.</p>
                <div class="fig fignone">
                  <br>
                  <div class="imageleft">
                    <img class="image imageleft" src="Insets/dakota/img09.gif" height="152" width="406">
                  </div>
                  <br>
                </div></li>
              <li class="li">
                <p class="p">Перейдите в каталог <samp class="ph codeph">C:/Garmin/maps/rusTopo</samp> и
откройте файл <samp class="ph codeph">gmaptool00.unl</samp> в текстовом редакторе.</p></li>
              <li class="li">
                <p class="p">В точности скопируйте строку символов (это и есть код разблокировки)
из файла в верхнее поле диалога.</p></li>
              <li class="li">
                <p class="p">Нажмите <span class="ph uicontrol">ОК</span>.</p></li></ol>
            <p class="p">Ели вы все сделали правильно, карта будет разблокирована и отображена
в MapSource.</p></div></div></div>
      <div id="navigation_supplemental">
        <h3>Quick Navigation</h3>
        <ul id="quick_links"></ul>
        <h3>Language Links</h3>
        <ul id="inner_navigation">
          <li class="first"><strong>Вперед:</strong>нет</li>
          <li>
            <strong>Назад:</strong>
            <a href="dakota.maps.html">Растровые карты</a>
          </li>
          <li class="last">
            <strong>Вверх:</strong>
            <a href="dakota.html">Garmin Dakota 20</a>
          </li>
        </ul>
      </div>
    </div>
    <script>if (navigator.appName.indexOf('Microsoft')==-1 && window.jstree) window.jstree.OpenTreeNode(window.pageid);</script>
  </body>
</html>